/**
 * Scroll v0.0.1
 * @author Vu Pham
 * @homepage https://github.com/vuquangpham/custom-scroll
 * @license MIT 2024
 */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var s=t();for(var n in s)("object"==typeof exports?exports:e)[n]=s[n]}}(this,(()=>(()=>{"use strict";var e={r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function s(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Date.now().toString(36)+Math.random().toString(36).slice(2)}function n(e,t){e&&t&&Object.assign(e.style,t)}function o(e){return"function"==typeof e}function r(e,t,s){return(1-s)*e+s*t}function i(e){let t="Target element not found! Please use correct DOM element!";return"string"==typeof e&&(e=document.querySelector(e),t="Target string is not valid! Please use correct CSS selector!"),e||(console.error(t),!1)}function l(e){var t;return e.id=e.options.id,e.scrollPosition=e.scrollPositionInLerp=c(),e.scrollableHeight=e.scrollableElement.scrollHeight,t=e.scrollableHeight,n(document.body,{height:t+"px"}),function(e){const t=e.target;n(t,{position:"fixed",top:0,overflow:"hidden",height:"100%",width:"100%"}),a(e,!0)}(e),e.options.autoRender&&e.render(),function(e){e.options.onInit&&o(e.options.onInit)&&e.events.on("onInit",e.options.onInit);e.options.onRender&&o(e.options.onRender)&&e.events.on("onRender",e.options.onRender)}(e),e.events.trigger("onInit",[e]),!0}function a(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||Math.round(e.scrollPositionInLerp)!==Math.round(e.scrollPosition))&&(e.scrollableElement.style.transform=`translate3d(0,${-1*e.scrollPositionInLerp}px,0)`)}function c(e){return window.scrollY||document.documentElement.scrollTop}e.r(t);class h{constructor(){this.callbacks={}}on(e,t){if(void 0===e||""===e)return console.warn("Wrong names"),!1;if("function"!=typeof t)return console.warn("Wrong callback"),!1;return this.resolveNames(e).forEach((e=>{this.callbacks[e]instanceof Array||(this.callbacks[e]=[]),this.callbacks[e].push(t)})),this}off(e){if(void 0===e||""===e)return console.warn("Wrong name"),!1;return this.resolveNames(e).forEach((e=>{this.callbacks[e]&&this.callbacks[e]instanceof Array&&delete this.callbacks[e]})),this}trigger(e,t){if(void 0===e||""===e)return console.warn("Wrong name"),!1;const s=t instanceof Array?t:[];this.resolveNames(e).forEach((e=>{const t=this.callbacks[e];t&&t.forEach((e=>{e.apply(this,s)}))}))}resolveNames(e){let t=e;return t=t.replace(/[^a-zA-Z0-9 ,/.]/g,""),t=t.replace(/[,/]+/g," "),t.split(" ")}}const d="custom-scroll-enabled";const u=class{constructor(){this.instances=[]}add(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s();if(!e||!t||!n)return console.error("The input parameters don't exist. Please check it again!"),null;const r={target:e,name:t,handler:n,id:o};r.target.addEventListener(r.name,r.handler),this.instances.push(r)}destroy(e){const t=this.instances.findIndex((t=>t.id===e));if(-1===t)return null;const s=this.instances[t];return s.target.removeEventListener(s.name,s.handler),this.instances.splice(t,1),s}destroyAll(){this.instances.forEach((e=>{e.target.removeEventListener(e.name,e.handler)})),this.instances=[]}};class p{constructor(e){return this.options=e,this.target=e.target,this.scrollableElement=e.scrollableElm,this.scrollEase=e.scrollEase,this.speedEase=e.speedEase,this.autoRender=e.autoRender,this.target.classList.contains(d)?(console.error("The target has already initialized!"),null):(this.windowScrollY=0,this.scrollableHeight=0,this.scrollPositionInLerp=0,this.scrollPosition=0,this.speed=0,this.speedInLerp=0,this.events=new h,this.listeners=new u,this.hasInitialized=l(this),this.hasInitialized?void this.target.classList.add(d):null)}on(e,t){this.events.on(e,t)}render(){var e;this.speed=(e=this,Math.min(Math.abs(e.scrollPosition-e.scrollPositionInLerp),200)/200),this.speedInLerp=+r(this.speedInLerp,this.speed,this.speedEase).toFixed(3),this.scrollPosition=c(),this.scrollPositionInLerp=+r(this.scrollPositionInLerp,this.scrollPosition,this.scrollEase).toFixed(3),a(this),this.events.trigger("onRender",[this]),this.autoRender&&requestAnimationFrame(this.render.bind(this))}destroy(){return this.listeners.destroyAll(),this.target.classList.remove(d),Library.destroy(this)}}return window.Scroll=new class{constructor(){this.instances=[]}create(e){const t={id:s(),target:null,scrollableElm:null,scrollEase:.2,speedEase:.2,autoRender:!1,onInit:e=>{},onRender:e=>{},...e};if(t.target=i(t.target),t.scrollableElm=i(t.scrollableElm),!t.target||!t.scrollableElm)return null;const n=new p(t);return n?(this.instances.push(n),n):null}get(e){return this.instances.find((t=>t.id===e))}destroy(e){const t=t=>t.id===e.id;if(!this.instances.find(t))return!1;const s=this.instances.findIndex(t);return this.instances.splice(s,1),!0}},t})()));